{"ast":null,"code":"import React,{useEffect,useRef,useState}from'react';import{Link}from'react-router-dom';import\"../../Styles/videos.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Videos=()=>{const carousel=useRef(null);const playingVideo=useRef(null);// Adicionado para manter o controle do vídeo que está sendo reproduzido\nconst[videos,setVideos]=useState([]);useEffect(()=>{const fetchData=async()=>{const response=await fetch(\"http://localhost:8000/components/videos.php\",{method:'GET'});if(response.ok){const data=await response.json();setVideos(data);}else{console.error(\"Erro: \"+response.status);}};fetchData();},[]);const handlePlay=videoElement=>{// Adicionado para lidar com o evento de reprodução\nif(playingVideo.current&&playingVideo.current!==videoElement){playingVideo.current.pause();}playingVideo.current=videoElement;};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{className:\"container1\",children:\"V\\xCDDEOS\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"container-video\",children:/*#__PURE__*/_jsx(\"div\",{className:\"carousel-video\",ref:carousel,children:videos.map((video,index)=>{return/*#__PURE__*/_jsxs(\"div\",{className:\"item-video\",children:[/*#__PURE__*/_jsxs(\"video\",{className:\"card-video\",width:\"100%\",height:350,controls:true,onPlay:e=>handlePlay(e.target),children:[\" \",/*#__PURE__*/_jsx(\"source\",{src:\"../components/uploadsVideos/\".concat(video.video)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"info-video\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"name-video\",children:video.nome}),/*#__PURE__*/_jsx(\"span\",{className:\"desc-video\",children:video.desc}),/*#__PURE__*/_jsx(Link,{to:\"/videopath/\".concat(video.id),children:\"saber mais\"})]})]},index);})})})]});};export default Videos;","map":{"version":3,"names":["React","useEffect","useRef","useState","Link","jsx","_jsx","jsxs","_jsxs","Videos","carousel","playingVideo","videos","setVideos","fetchData","response","fetch","method","ok","data","json","console","error","status","handlePlay","videoElement","current","pause","children","className","ref","map","video","index","width","height","controls","onPlay","e","target","src","concat","nome","desc","to","id"],"sources":["/Users/yavam/Documents/famillia-app/frontend/src/Components/Navigation/HomePages/videos.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport \"../../Styles/videos.css\";\n\nconst Videos = () => {\n    const carousel = useRef(null);\n    const playingVideo = useRef(null); // Adicionado para manter o controle do vídeo que está sendo reproduzido\n\n    const [videos, setVideos] = useState([]);\n\n    useEffect(() => {\n        const fetchData = async () => {\n            const response = await fetch(\"http://localhost:8000/components/videos.php\", {method: 'GET'});\n\n            if (response.ok) {\n                const data = await response.json();\n                setVideos(data);\n            } else {\n                console.error(\"Erro: \" + response.status);\n            }\n        };\n        fetchData();\n    }, []);\n\n    const handlePlay = (videoElement) => { // Adicionado para lidar com o evento de reprodução\n        if (playingVideo.current && playingVideo.current !== videoElement) {\n            playingVideo.current.pause();\n        }\n        playingVideo.current = videoElement;\n    };\n\n    return (\n        <div>\n            <div><h1 className='container1'>VÍDEOS</h1></div>\n            <div className='container-video'> \n                <div className='carousel-video' ref={carousel}>\n                    {videos.map((video, index) => {\n                        return (\n                            <div key={index} className='item-video'>\n                                <video className='card-video'\n                                    width=\"100%\"\n                                    height={350}\n                                    controls\n                                    onPlay={e => handlePlay(e.target)}> {/* Adicionado para lidar com o evento de reprodução */}\n                                    <source src={`../components/uploadsVideos/${video.video}`}></source>\n                                </video>\n                                <div className='info-video'>\n                                    <span className='name-video'>{video.nome}</span>\n                                    <span className='desc-video'>{video.desc}</span>\n                                    <Link to={`/videopath/${video.id}`}>saber mais</Link>\n                                </div>\n                            </div>\n                        )\n                    })}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Videos;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}