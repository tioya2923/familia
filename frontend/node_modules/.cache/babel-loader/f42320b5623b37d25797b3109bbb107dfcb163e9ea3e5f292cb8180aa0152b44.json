{"ast":null,"code":"import React,{useRef,useState}from\"react\";import axios from\"axios\";import ReactPlayer from\"react-player\";// importa o componente ReactPlayer\nimport'../Styles/InsertVideos.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function InsertVideos(){// Cria uma referência para o input file\nconst fileInput=useRef(null);// Cria um estado para o resultado\nconst[result,setResult]=useState(\"\");// Cria um estado para a URL do vídeo\nconst[videoURL,setVideoURL]=useState(\"\");const handleSubmit=e=>{e.preventDefault();const formData=new FormData();formData.append(\"nome\",e.target.nome.value);formData.append(\"video\",fileInput.current.files[0]);formData.append(\"descricao\",e.target.descricao.value);axios.post(\"http://localhost:8000/components/insertVideos.php\",formData,{headers:{\"Content-Type\":\"multipart/form-data\"}}).then(response=>{setResult(response.data);// Limpa os campos após o envio\ne.target.nome.value=\"\";e.target.descricao.value=\"\";fileInput.current.value=null;setVideoURL(\"\");// Limpa a URL do vídeo\n}).catch(error=>{console.error(error);});};// Define a função que será chamada ao mudar o input file\nconst handleFileChange=e=>{// Obtém o arquivo de vídeo selecionado\nconst file=e.target.files[0];// Verifica se o navegador suporta o FileReader\nif(window.FileReader){// Cria um objeto FileReader\nconst reader=new FileReader();// Define a função que será chamada quando o arquivo for lido\nreader.onload=event=>{// Obtém a URL base64 do arquivo\nconst url=event.target.result;// Atualiza o estado com a URL do vídeo\nsetVideoURL(url);};// Lê o arquivo como uma URL base64\nreader.readAsDataURL(file);}else{// Usa uma alternativa, como uma requisição AJAX\nconst xhr=new XMLHttpRequest();xhr.open(\"GET\",file);xhr.onload=()=>{// Obtém a URL base64 do arquivo\nconst url=xhr.responseText;// Atualiza o estado com a URL do vídeo\nsetVideoURL(url);};xhr.send();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"VideoForm\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Selecione o v\\xEDdeo\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"video\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"video\",name:\"video\",accept:\"video/*\",ref:fileInput,onChange:handleFileChange}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"nome\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"nome\",name:\"nome\",placeholder:\"Nome do v\\xEDdeo\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"descricao\"}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",id:\"descricao\",name:\"descricao\",placeholder:\"Texto para descrever o v\\xEDdeo\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Enviar\"})]}),/*#__PURE__*/_jsx(\"h3\",{children:result}),/*#__PURE__*/_jsx(\"div\",{className:\"VideoPlayer\",children:/*#__PURE__*/_jsx(ReactPlayer,{url:videoURL,width:\"25\",height:\"25\",controls:true})})]});}export default InsertVideos;","map":{"version":3,"names":["React","useRef","useState","axios","ReactPlayer","jsx","_jsx","jsxs","_jsxs","InsertVideos","fileInput","result","setResult","videoURL","setVideoURL","handleSubmit","e","preventDefault","formData","FormData","append","target","nome","value","current","files","descricao","post","headers","then","response","data","catch","error","console","handleFileChange","file","window","FileReader","reader","onload","event","url","readAsDataURL","xhr","XMLHttpRequest","open","responseText","send","className","children","onSubmit","htmlFor","type","id","name","accept","ref","onChange","placeholder","width","height","controls"],"sources":["/Users/yavam/Documents/famillia-app/frontend/src/Components/Store/insertVideos.jsx"],"sourcesContent":["import React, { useRef, useState } from \"react\";\nimport axios from \"axios\";\nimport ReactPlayer from \"react-player\"; // importa o componente ReactPlayer\nimport '../Styles/InsertVideos.css'\n\nfunction InsertVideos() {\n    // Cria uma referência para o input file\n    const fileInput = useRef(null);\n\n    // Cria um estado para o resultado\n    const [result, setResult] = useState(\"\");\n\n    // Cria um estado para a URL do vídeo\n    const [videoURL, setVideoURL] = useState(\"\");\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n    \n        const formData = new FormData();\n        formData.append(\"nome\", e.target.nome.value);\n        formData.append(\"video\", fileInput.current.files[0]);\n        formData.append(\"descricao\", e.target.descricao.value);\n    \n        axios\n            .post(\"http://localhost:8000/components/insertVideos.php\", formData, {\n                headers: {\n                    \"Content-Type\": \"multipart/form-data\",\n                },\n            })\n            .then((response) => {\n                setResult(response.data);\n                // Limpa os campos após o envio\n                e.target.nome.value = \"\";\n                e.target.descricao.value = \"\";\n                fileInput.current.value = null;\n                setVideoURL(\"\"); // Limpa a URL do vídeo\n            })\n            .catch((error) => {\n                console.error(error);\n            });\n    };\n    \n    // Define a função que será chamada ao mudar o input file\n    const handleFileChange = (e) => {\n        // Obtém o arquivo de vídeo selecionado\n        const file = e.target.files[0];\n\n        // Verifica se o navegador suporta o FileReader\n        if (window.FileReader) {\n            // Cria um objeto FileReader\n            const reader = new FileReader();\n\n            // Define a função que será chamada quando o arquivo for lido\n            reader.onload = (event) => {\n                // Obtém a URL base64 do arquivo\n                const url = event.target.result;\n\n                // Atualiza o estado com a URL do vídeo\n                setVideoURL(url);\n            };\n\n            // Lê o arquivo como uma URL base64\n            reader.readAsDataURL(file);\n        } else {\n            // Usa uma alternativa, como uma requisição AJAX\n            const xhr = new XMLHttpRequest();\n            xhr.open(\"GET\", file);\n            xhr.onload = () => {\n                // Obtém a URL base64 do arquivo\n                const url = xhr.responseText;\n\n                // Atualiza o estado com a URL do vídeo\n                setVideoURL(url);\n            };\n            xhr.send();\n        }\n    };\n\n\n    return (\n        <div className=\"VideoForm\"><h1>Selecione o vídeo</h1>\n            <form onSubmit={handleSubmit}>\n               \n                <label htmlFor=\"video\"></label>\n                <input type=\"file\" id=\"video\" name=\"video\" accept=\"video/*\" ref={fileInput} onChange={handleFileChange} />\n                <br />\n                <label htmlFor=\"nome\"></label>\n                <input type=\"text\" id=\"nome\" name=\"nome\" placeholder=\"Nome do vídeo\"/>\n                <br />\n                <label htmlFor=\"descricao\"></label>\n                <textarea type=\"text\" id=\"descricao\" name=\"descricao\" placeholder=\"Texto para descrever o vídeo\"></textarea> \n                <br />\n                <button type=\"submit\">Enviar</button>\n            </form>\n            <h3>{result}</h3>\n            <div className=\"VideoPlayer\">\n                <ReactPlayer url={videoURL} width=\"25\" height=\"25\" controls={true} />\n            </div>\n        </div>\n    );\n}\nexport default InsertVideos;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}